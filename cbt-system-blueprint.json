{
  "system_overview": {
    "name": "OpenCBT — Open-Source Computer-Based Testing Platform",
    "description": "A production-ready, web-based Computer-Based Testing system built for small to medium educational institutions (100–10,000 concurrent users). Accessible via any modern browser with no installation required. Supports full exam lifecycle management: question authoring, exam scheduling, secure test delivery, automated grading, and analytics reporting.",
    "tech_stack": {
      "backend": "Laravel 12 (PHP 8.3) — RESTful API-first architecture with Sanctum for SPA authentication, Queues (Redis/database driver) for async jobs, Laravel Echo + Pusher/Soketi for real-time events",
      "frontend": "Laravel Blade templating with Tailwind CSS v4.2 — server-rendered UI with Alpine.js for lightweight interactivity; Vite for asset bundling",
      "database": "MySQL 8.0 (primary RDBMS) + Redis 7 (session store, cache, queue backend, real-time pub/sub)",
      "hosting": "Self-hosted on any Linux VPS/bare-metal (Ubuntu 22.04 LTS recommended); Docker Compose for local dev; optional Kubernetes Helm chart for production scale. Compatible with shared hosting via standard LAMP stack."
    }
  },
  "core_modules": [
    {
      "module_name": "Authentication & Identity Management",
      "purpose": "Secure multi-role user authentication, session lifecycle management, and identity verification",
      "key_features": [
        "Email/password login with bcrypt hashing (cost factor 12)",
        "Laravel Sanctum SPA token-based authentication",
        "Multi-factor authentication (TOTP via Google Authenticator / Authy)",
        "Role-Based Access Control (RBAC) with Spatie Laravel-Permission: Admin, Instructor, Student, Proctor",
        "Single Sign-On (SSO) via SAML 2.0 / OAuth2 (Google Workspace, Microsoft Entra ID)",
        "Account self-registration with email verification",
        "Password reset via signed URL tokens (15-minute expiry)",
        "Concurrent session detection and forced logout",
        "IP allowlist/blocklist per exam session",
        "Audit log of all authentication events (login, logout, failed attempts)"
      ]
    },
    {
      "module_name": "User & Role Management",
      "purpose": "Centralized administration of all platform users, their roles, permissions, and organizational groupings",
      "key_features": [
        "Admin dashboard for bulk user import via CSV/XLSX",
        "Manual user creation with role assignment",
        "Department/cohort/class grouping for batch exam assignment",
        "Instructor self-enrollment or admin-assigned course ownership",
        "Student profile with exam history, performance trends, and certificates",
        "Proctor assignment to specific exam sessions",
        "Permission overrides at user level (e.g., extended time for accessibility needs)",
        "User suspension, deactivation, and GDPR-compliant data deletion",
        "Activity log per user (last login, exams taken, IP history)"
      ]
    },
    {
      "module_name": "Question Bank Manager",
      "purpose": "Centralized repository for creating, organizing, versioning, and reusing exam questions across multiple exams",
      "key_features": [
        "Question types: Multiple Choice (single/multi-answer), True/False, Short Answer, Essay/Long Answer, Fill-in-the-Blank, Matching Pairs, Ordering/Sequencing, Hotspot (image-based), Numeric/Formula",
        "Rich text editor (TipTap/ProseMirror) with LaTeX math rendering (KaTeX), code syntax highlighting, and media embedding (images, audio, video)",
        "Tag-based categorization: subject, topic, subtopic, difficulty level (Easy/Medium/Hard), Bloom's Taxonomy level, learning objective",
        "Question versioning — edit history with diff view; exams reference specific version snapshots",
        "Bulk import from QTI 2.1 XML, CSV, or GIFT format",
        "Export to QTI 2.1, PDF, or CSV",
        "Duplicate detection using content hashing",
        "Question preview with student-view rendering",
        "Usage statistics: how many exams use this question, average score, discrimination index",
        "Collaborative authoring with review/approval workflow (draft → review → approved → archived)",
        "Question pools for randomized selection during exam generation"
      ]
    },
    {
      "module_name": "Exam Builder & Scheduler",
      "purpose": "Create, configure, and schedule exams with fine-grained control over delivery rules, timing, and access",
      "key_features": [
        "Exam creation wizard: title, description, instructions, cover image",
        "Section-based exam structure (multiple sections with independent time limits)",
        "Manual question selection from question bank or auto-generate from pools by tag/difficulty",
        "Randomize question order and/or answer option order per student",
        "Point allocation per question; partial credit support for multi-select MCQ",
        "Negative marking configuration (penalty per wrong answer)",
        "Time limit: global exam timer or per-section timer with visual countdown",
        "Scheduling: start date/time, end date/time, timezone-aware",
        "Access window: students can only enter exam within defined window",
        "Attempt limits (1 attempt, N attempts, unlimited)",
        "Password-protected exam access (proctor-distributed password)",
        "IP restriction: allow only specific IP ranges (e.g., campus network)",
        "Browser lockdown mode: full-screen enforcement, tab-switch detection",
        "Exam preview mode for instructors before publishing",
        "Draft/Published/Archived exam lifecycle states",
        "Clone existing exam as template",
        "Assign exam to specific students, groups, or entire cohorts"
      ]
    },
    {
      "module_name": "Exam Delivery Engine",
      "purpose": "Secure, reliable, and accessible test-taking interface for students with real-time state persistence",
      "key_features": [
        "Clean, distraction-free exam UI built with Blade templates and Tailwind CSS v4.2",
        "Auto-save answers every 30 seconds to server (prevents data loss on disconnect)",
        "Offline resilience: answers cached in localStorage/IndexedDB; sync on reconnect",
        "Question navigation panel: answered, unanswered, flagged-for-review indicators",
        "Flag/bookmark questions for later review within session",
        "Countdown timer with configurable warning alerts (e.g., 10 min, 5 min remaining)",
        "Auto-submit on timer expiry",
        "Section-locked navigation (cannot go back to previous section if configured)",
        "Accessibility: keyboard navigation, screen reader support (ARIA labels), high-contrast mode, font size adjustment",
        "Equation editor for math-heavy exams",
        "Code editor (Monaco) for programming exams with syntax highlighting",
        "File upload support for essay attachments (PDF, DOCX, images)",
        "Exam resume: if student disconnects, can resume within session window",
        "Confirmation dialog before final submission",
        "Post-submission receipt with timestamp and unique submission ID"
      ]
    },
    {
      "module_name": "Anti-Cheating & Proctoring",
      "purpose": "Detect and deter academic dishonesty through behavioral monitoring, environment checks, and activity logging",
      "key_features": [
        "Tab/window switch detection with configurable violation threshold (warn → auto-submit)",
        "Copy-paste disable on exam questions and answer fields",
        "Right-click context menu disabled during exam",
        "Full-screen enforcement with exit detection alerts",
        "Periodic random screenshot capture (configurable interval, stored server-side)",
        "Webcam snapshot capture at exam start and random intervals (requires browser permission)",
        "Face detection via client-side ML model (TensorFlow.js / face-api.js) — alert if no face or multiple faces detected",
        "IP address logging per answer submission",
        "Device fingerprinting (browser, OS, screen resolution) to detect multiple device usage",
        "Keystroke dynamics logging for behavioral biometrics (optional advanced feature)",
        "Proctor live dashboard: real-time view of all active exam sessions, violation flags, ability to message or terminate a session",
        "Violation log per student per exam: timestamped events with severity levels",
        "Configurable cheating policy: warn-only, auto-flag, or auto-terminate",
        "Exam integrity report generated post-exam for instructor review"
      ]
    },
    {
      "module_name": "Grading & Scoring Engine",
      "purpose": "Automated scoring for objective questions and structured manual grading interface for subjective responses",
      "key_features": [
        "Instant auto-grading for MCQ, True/False, Fill-in-Blank, Matching, Ordering on submission",
        "Configurable answer matching for short answer: exact match, case-insensitive, regex pattern, keyword list",
        "Partial credit calculation for multi-select MCQ",
        "Negative marking deduction applied automatically",
        "Manual grading queue for Essay and Long Answer questions",
        "Rubric builder: create scoring rubrics with criteria, levels, and point values",
        "Side-by-side grading interface: student response on left, rubric on right",
        "Inline annotation and comment tools for essay responses",
        "Blind grading mode (student identity hidden from grader)",
        "Second-grader assignment for inter-rater reliability",
        "Grade override with mandatory justification comment",
        "Bulk grade release (publish all results at once or per student)",
        "Re-grade trigger: update question answer key and re-calculate all affected submissions",
        "Grade export to CSV/XLSX for LMS integration",
        "Weighted scoring: assign different weights to exam sections"
      ]
    },
    {
      "module_name": "Results & Analytics Dashboard",
      "purpose": "Comprehensive performance reporting for students, instructors, and administrators with data visualization",
      "key_features": [
        "Student result view: score, percentage, pass/fail status, time taken, question-by-question breakdown",
        "Instructor exam analytics: score distribution histogram, mean/median/mode, standard deviation, pass rate",
        "Per-question analytics: difficulty index (P-value), discrimination index (D-value), distractor analysis for MCQ",
        "Student performance trends across multiple exams over time",
        "Cohort/class comparison reports",
        "Bloom's Taxonomy performance breakdown (if questions are tagged)",
        "Learning objective mastery report",
        "Export reports to PDF, CSV, XLSX",
        "Printable certificates of completion/achievement (configurable template)",
        "Admin institution-wide dashboard: total exams, active users, system health metrics",
        "Scheduled report delivery via email",
        "Interactive charts using Recharts or Chart.js",
        "Leaderboard (optional, configurable per exam)"
      ]
    },
    {
      "module_name": "Notification & Communication",
      "purpose": "Keep all stakeholders informed about exam events, results, and system alerts",
      "key_features": [
        "Email notifications via Laravel Mail (SMTP/Mailgun/SES): exam scheduled, exam reminder (24h, 1h before), results published, account actions",
        "In-app notification center with read/unread state",
        "Real-time push notifications via Laravel Echo + WebSockets (Soketi self-hosted or Pusher)",
        "SMS notifications via Twilio integration (optional)",
        "Proctor alerts: real-time violation notifications during live exams",
        "Bulk announcement broadcast to student groups",
        "Notification preference settings per user (email, in-app, SMS toggles)"
      ]
    },
    {
      "module_name": "Administration & Configuration",
      "purpose": "System-wide settings, branding, integrations, and operational management",
      "key_features": [
        "Institution branding: logo, color scheme, custom domain",
        "System settings: default timezone, language/locale, date format",
        "Email template customization",
        "LMS integration: LTI 1.3 provider for embedding in Moodle, Canvas, Blackboard",
        "REST API with OpenAPI 3.0 documentation (Swagger UI) for third-party integrations",
        "Webhook support for exam events (exam.completed, result.published)",
        "Database backup scheduling (mysqldump via Laravel scheduler)",
        "System health monitoring dashboard (queue status, failed jobs, cache hit rate)",
        "Maintenance mode with custom message",
        "Audit log viewer: searchable, filterable log of all admin actions",
        "Feature flags for enabling/disabling optional modules"
      ]
    }
  ],
  "database_schema": {
    "entities": [
      "users — id, name, email, password, role_id, department_id, avatar, is_active, email_verified_at, mfa_secret, created_at, updated_at",
      "roles — id, name (admin|instructor|student|proctor), guard_name",
      "permissions — id, name, guard_name (Spatie permission tables)",
      "model_has_roles — polymorphic pivot for user-role assignment",
      "departments — id, name, code, institution_id",
      "institutions — id, name, logo, primary_color, domain, timezone, created_at",
      "question_categories — id, name, parent_id (self-referential tree), description",
      "questions — id, uuid, category_id, created_by, type (mcq|true_false|short_answer|essay|fill_blank|matching|ordering|hotspot|numeric), title, body (JSON rich text), explanation, difficulty (1-5), bloom_level, points_default, version, status (draft|review|approved|archived), created_at, updated_at",
      "question_versions — id, question_id, version_number, body_snapshot (JSON), changed_by, changed_at",
      "question_options — id, question_id, body (JSON), is_correct, order_index, match_pair_id",
      "question_tags — id, question_id, tag",
      "question_media — id, question_id, type (image|audio|video), url, alt_text",
      "exams — id, uuid, title, description, instructions (JSON), created_by, status (draft|published|active|completed|archived), time_limit_minutes, allow_navigation, shuffle_questions, shuffle_options, attempt_limit, password_hash, ip_whitelist (JSON), browser_lockdown, show_results_after, passing_score, negative_marking_factor, created_at, updated_at",
      "exam_sections — id, exam_id, title, instructions, time_limit_minutes, order_index, navigation_locked",
      "exam_questions — id, exam_id, section_id, question_id, question_version, points, order_index, is_required",
      "exam_question_pools — id, exam_id, section_id, category_id, difficulty, count, points_each",
      "exam_schedules — id, exam_id, starts_at, ends_at, timezone, is_active",
      "exam_assignments — id, exam_id, assignable_type (user|department|cohort), assignable_id, assigned_by, assigned_at",
      "exam_sessions — id, uuid, exam_id, student_id, proctor_id, status (not_started|in_progress|paused|submitted|terminated), started_at, submitted_at, time_remaining_seconds, ip_address, user_agent, device_fingerprint, attempt_number",
      "exam_answers — id, session_id, question_id, answer_value (JSON — supports all question types), is_flagged, answered_at, time_spent_seconds, auto_saved_at",
      "exam_results — id, session_id, exam_id, student_id, raw_score, max_score, percentage, is_passed, grading_status (pending|partial|complete), released_at, graded_by, graded_at",
      "question_scores — id, result_id, question_id, session_id, awarded_points, max_points, is_correct, grader_id, grader_comment, rubric_scores (JSON), graded_at",
      "rubrics — id, question_id, created_by, title, description",
      "rubric_criteria — id, rubric_id, title, description, max_points, order_index",
      "rubric_levels — id, criteria_id, label, description, points",
      "proctoring_events — id, session_id, event_type (tab_switch|fullscreen_exit|copy_paste|face_not_detected|multiple_faces|screenshot_taken|webcam_snapshot), severity (info|warning|critical), metadata (JSON), occurred_at",
      "proctoring_media — id, session_id, type (screenshot|webcam), file_path, captured_at",
      "notifications — id, type, notifiable_type, notifiable_id, data (JSON), read_at, created_at",
      "audit_logs — id, user_id, action, model_type, model_id, old_values (JSON), new_values (JSON), ip_address, user_agent, created_at",
      "certificates — id, student_id, exam_id, result_id, template_id, issued_at, certificate_number, file_path",
      "certificate_templates — id, name, html_template, variables (JSON), created_by",
      "announcements — id, title, body, created_by, target_type (all|role|department|exam), target_id, published_at",
      "settings — id, key, value, group, is_public",
      "failed_jobs — id, uuid, connection, queue, payload, exception, failed_at",
      "jobs — id, queue, payload, attempts, reserved_at, available_at, created_at",
      "sessions — id, user_id, ip_address, user_agent, payload, last_activity",
      "password_reset_tokens — email, token, created_at",
      "personal_access_tokens — id, tokenable_type, tokenable_id, name, token, abilities, last_used_at, expires_at"
    ],
    "relationships": [
      "users belongsTo departments (many-to-one)",
      "users belongsToMany roles via model_has_roles (many-to-many, Spatie)",
      "departments belongsTo institutions (many-to-one)",
      "questions belongsTo question_categories (many-to-one, self-referential tree)",
      "questions hasMany question_options (one-to-many)",
      "questions hasMany question_versions (one-to-many, version history)",
      "questions hasMany question_tags (one-to-many)",
      "questions hasMany question_media (one-to-many)",
      "exams hasMany exam_sections (one-to-many, ordered)",
      "exams hasMany exam_questions via exam_questions pivot (many-to-many with extras)",
      "exams hasMany exam_question_pools (one-to-many, for randomized selection)",
      "exams hasMany exam_schedules (one-to-many, supports multiple schedule windows)",
      "exams hasMany exam_assignments (polymorphic, assign to users/departments/cohorts)",
      "exams hasMany exam_sessions (one-to-many)",
      "exam_sessions belongsTo users as student (many-to-one)",
      "exam_sessions belongsTo users as proctor (many-to-one, nullable)",
      "exam_sessions hasMany exam_answers (one-to-many)",
      "exam_sessions hasOne exam_results (one-to-one)",
      "exam_sessions hasMany proctoring_events (one-to-many)",
      "exam_sessions hasMany proctoring_media (one-to-many)",
      "exam_results hasMany question_scores (one-to-many)",
      "question_scores belongsTo questions (many-to-one)",
      "rubrics belongsTo questions (one-to-one)",
      "rubrics hasMany rubric_criteria (one-to-many)",
      "rubric_criteria hasMany rubric_levels (one-to-many)",
      "certificates belongsTo users as student (many-to-one)",
      "certificates belongsTo exams (many-to-one)",
      "certificates belongsTo exam_results (one-to-one)",
      "certificates belongsTo certificate_templates (many-to-one)",
      "audit_logs belongsTo users (many-to-one, nullable for system actions)",
      "notifications morphTo notifiable (polymorphic — users, departments)"
    ]
  },
  "security_features": [
    "HTTPS/TLS 1.3 enforced via web server (Nginx/Apache) with HSTS header; HTTP Strict Transport Security max-age 31536000",
    "Laravel Sanctum SPA authentication with HttpOnly, Secure, SameSite=Strict cookies — prevents XSS token theft",
    "CSRF protection on all state-changing requests via Laravel's built-in CSRF middleware and X-XSRF-TOKEN header",
    "SQL injection prevention: Eloquent ORM with PDO prepared statements; raw queries use parameter binding exclusively",
    "XSS prevention: Blade auto-escaping, Content Security Policy (CSP) header, DOMPurify sanitization on rich text input",
    "Input validation: Laravel Form Requests with strict validation rules on all API endpoints",
    "Rate limiting: Laravel throttle middleware — login (5 attempts/minute with exponential backoff), API (60 req/minute per user), exam submission (1 per session)",
    "Bcrypt password hashing (cost factor 12) with automatic rehashing on login if cost factor changes",
    "Multi-factor authentication (TOTP) for admin and instructor accounts (enforced), optional for students",
    "Role-Based Access Control via Spatie Laravel-Permission — every route and action gated by permission check",
    "Policy-based authorization: Laravel Policies for fine-grained resource-level access (e.g., only exam owner can edit)",
    "Exam session token: unique UUID per session, validated on every answer submission to prevent session hijacking",
    "IP address logging and optional IP whitelist enforcement per exam (restrict to campus network)",
    "Device fingerprinting to detect and flag multiple device usage for same exam session",
    "Encrypted sensitive data at rest: MFA secrets encrypted with AES-256 via Laravel's encrypt() helper",
    "Database credentials and API keys stored in .env file, never committed to version control; production uses environment variable injection",
    "Signed URLs for file downloads (exam attachments, result PDFs) with short expiry (15 minutes)",
    "File upload validation: MIME type whitelist, file size limits, virus scanning via ClamAV integration (optional)",
    "Uploaded files stored outside web root or in private S3 bucket — not directly accessible via URL",
    "Security headers: X-Frame-Options DENY, X-Content-Type-Options nosniff, Referrer-Policy strict-origin-when-cross-origin",
    "Audit logging of all sensitive actions (user creation, role changes, exam publication, grade overrides, admin logins)",
    "Failed login attempt tracking with account lockout after N failures (configurable, default 10)",
    "Session invalidation on password change and role modification",
    "Proctor violation logging with tamper-evident timestamps",
    "Regular automated database backups with encryption (mysqldump + GPG encryption)",
    "Dependency vulnerability scanning via composer audit and npm audit in CI/CD pipeline",
    "GDPR compliance: data export and deletion endpoints, consent tracking, data retention policies"
  ],
  "user_workflows": {
    "admin": [
      "1. Login with MFA → access admin dashboard with system health overview",
      "2. Configure institution settings: name, logo, timezone, email templates, feature flags",
      "3. Create and manage user accounts: bulk import via CSV, assign roles, manage departments",
      "4. Configure SSO/LDAP integration for institutional identity provider",
      "5. Monitor system health: queue status, failed jobs, active sessions, server metrics",
      "6. View institution-wide analytics: total exams conducted, pass rates, active users",
      "7. Manage audit logs: search and filter all system actions for compliance",
      "8. Configure backup schedule and verify backup integrity",
      "9. Manage API keys and webhook endpoints for third-party integrations",
      "10. Enable/disable feature flags (e.g., webcam proctoring, LTI integration)",
      "11. Broadcast system-wide announcements",
      "12. Handle GDPR requests: export or delete user data on request"
    ],
    "instructor": [
      "1. Login → access instructor dashboard with exam overview and pending grading tasks",
      "2. Navigate to Question Bank → create new questions using rich text editor with media upload",
      "3. Tag questions with subject, topic, difficulty, Bloom's level; submit for review if workflow enabled",
      "4. Create new exam: set title, instructions, time limit, attempt rules, security settings",
      "5. Add questions manually from bank or configure random pools by category/difficulty",
      "6. Configure exam sections with independent time limits and navigation rules",
      "7. Set exam schedule: start/end datetime, timezone, access password, IP restrictions",
      "8. Assign exam to specific students, departments, or cohorts",
      "9. Preview exam in student view before publishing",
      "10. Publish exam → students receive notification",
      "11. Monitor live exam: view active sessions, violation flags, proctor dashboard",
      "12. After exam closes: review auto-graded results, access manual grading queue for essays",
      "13. Grade essays using rubric interface with inline annotations; assign second grader if needed",
      "14. Release results to students (bulk or individual)",
      "15. Review exam analytics: score distribution, per-question difficulty/discrimination indices",
      "16. Export results to CSV/XLSX for gradebook",
      "17. Issue certificates to passing students",
      "18. Archive or clone exam for future use"
    ],
    "student": [
      "1. Register account (or receive credentials from admin) → verify email",
      "2. Login → access student dashboard with upcoming, active, and completed exams",
      "3. View exam details: instructions, time limit, attempt rules, scheduled window",
      "4. At exam start time: click 'Start Exam' → system verifies eligibility (schedule, attempt count, IP)",
      "5. If password-protected: enter proctor-provided password",
      "6. Grant browser permissions if required (fullscreen, webcam for proctoring)",
      "7. Read exam instructions page → click 'Begin'",
      "8. Answer questions using appropriate input (radio buttons, checkboxes, text editor, file upload)",
      "9. Navigate between questions using navigation panel; flag questions for review",
      "10. Monitor countdown timer; receive warnings at configured thresholds",
      "11. Auto-save occurs every 30 seconds; manual save available",
      "12. Review flagged questions before final submission",
      "13. Submit exam → receive confirmation receipt with timestamp and submission ID",
      "14. View results when released by instructor: score, percentage, pass/fail, question breakdown",
      "15. Download result PDF or certificate if issued",
      "16. View performance trends across all exams on personal analytics page",
      "17. Update profile settings: password, notification preferences, accessibility options"
    ],
    "proctor": [
      "1. Login → access proctor dashboard showing assigned exam sessions",
      "2. View list of students registered for assigned exam with their status",
      "3. During exam window: monitor live session grid — see each student's status, time remaining, violation count",
      "4. Receive real-time alerts for violations (tab switch, face detection failure, etc.)",
      "5. Click on individual student session to view detailed violation log and screenshots/webcam captures",
      "6. Send message to student (in-app chat during exam) to address issues",
      "7. Grant time extension to individual student if needed",
      "8. Terminate suspicious session with mandatory reason note",
      "9. Generate post-exam integrity report for instructor review"
    ]
  },
  "implementation_roadmap": {
    "phase_1": "MVP — Core Exam Delivery (Weeks 1–8): Set up Laravel 12 project with MySQL, Redis, Sanctum auth. Configure Tailwind CSS v4.2 via Vite with CSS-first setup (@import 'tailwindcss'). Implement user management with RBAC (Spatie). Build question bank with MCQ and True/False types, basic rich text editor (TipTap). Create exam builder with manual question selection, time limits, and scheduling. Develop student exam-taking interface (Blade + Tailwind + Alpine.js) with auto-save, timer, and submission. Implement auto-grading for objective questions. Basic results view for students and instructors. Admin user management panel. Deploy to staging with Docker Compose. Deliverable: Working end-to-end exam flow for objective questions.",
    "phase_2": "Full Feature Set (Weeks 9–18): Add remaining question types (Essay, Fill-in-Blank, Matching, Ordering, Hotspot). Implement manual grading interface with rubric builder. Build anti-cheating features: tab-switch detection, fullscreen enforcement, copy-paste disable, IP logging, device fingerprinting. Add webcam snapshot and screenshot capture. Implement proctor live dashboard with real-time violation alerts (Laravel Echo + Soketi). Build comprehensive analytics dashboard with Chart.js visualizations. Add notification system (email + in-app). Implement question bank import/export (QTI, CSV). Add exam randomization (question pools, shuffle). Build certificate generation. Deliverable: Feature-complete platform ready for pilot testing.",
    "phase_3": "Production Hardening & Extensibility (Weeks 19–26): Performance optimization: database query optimization with indexes, Redis caching for question bank and exam configs, queue-based async processing for report generation and email. Load testing with k6 (target: 10,000 concurrent users). Security audit: penetration testing, OWASP Top 10 review, dependency vulnerability scan. Implement SSO (SAML 2.0 / OAuth2). Add LTI 1.3 provider for LMS integration. Build REST API with OpenAPI documentation. Implement GDPR compliance features (data export, deletion). Add offline resilience (IndexedDB caching). Set up CI/CD pipeline (GitHub Actions): automated tests (PHPUnit, Pest, Playwright E2E), code quality (PHPStan level 8), security scanning. Production deployment guide with Nginx, PHP-FPM, MySQL replication, Redis Sentinel. Deliverable: Production-ready, documented, tested platform."
  },
  "open_source_dependencies": [
    "laravel/framework ^12.0 — Core PHP web framework (MIT)",
    "laravel/sanctum ^4.0 — SPA authentication via HttpOnly cookies (MIT)",
    "spatie/laravel-permission ^6.0 — RBAC roles and permissions (MIT)",
    "spatie/laravel-activitylog ^4.0 — Audit logging (MIT)",
    "spatie/laravel-backup ^8.0 — Automated database and file backups (MIT)",
    "spatie/laravel-medialibrary ^11.0 — File/media management with conversions (MIT)",
    "laravel/scout ^10.0 — Full-text search abstraction (MIT)",
    "laravel/horizon ^5.0 — Redis queue monitoring dashboard (MIT)",
    "laravel/echo ^1.0 — Real-time event broadcasting client (MIT)",
    "beyondcode/laravel-websockets OR soketi/soketi — Self-hosted WebSocket server (MIT)",
    "intervention/image ^3.0 — Image processing for screenshots and avatars (MIT)",
    "barryvdh/laravel-dompdf ^2.0 — PDF generation for results and certificates (MIT)",
    "maatwebsite/excel ^3.1 — Excel/CSV import and export (MIT)",
    "pragmarx/google2fa-laravel ^2.0 — TOTP multi-factor authentication (MIT)",
    "jenssegers/agent ^2.6 — User agent parsing for device detection (MIT)",
    "tailwindcss ^4.2 — Utility-first CSS framework (MIT)",
    "@tailwindcss/vite ^4.2 — Vite plugin for Tailwind CSS v4 (MIT)",
    "alpinejs ^3.0 — Lightweight JavaScript framework for interactivity (MIT)",
    "tiptap ^2.0 — Extensible rich text editor (ProseMirror-based) (MIT)",
    "katex ^0.16 — LaTeX math rendering (MIT)",
    "monaco-editor ^0.45 — Code editor for programming questions (MIT)",
    "face-api.js ^0.22 — Client-side face detection for proctoring (MIT)",
    "chart.js ^4.0 — Canvas-based charting library for analytics (MIT)",
    "axios ^1.6 — HTTP client for API calls (MIT)",
    "idb ^8.0 — IndexedDB wrapper for offline answer caching (ISC)",
    "playwright ^1.40 — End-to-end testing framework (Apache 2.0)",
    "pestphp/pest ^2.0 — Elegant PHP testing framework (MIT)",
    "phpstan/phpstan ^1.10 — PHP static analysis (MIT)",
    "prettier ^3.0 — Code formatting (MIT)",
    "vite ^5.0 — Frontend build tool (MIT)",
    "docker/compose — Container orchestration for development and deployment (Apache 2.0)"
  ],
  "deployment_notes": "PRODUCTION DEPLOYMENT GUIDE:\n\n1. SERVER REQUIREMENTS: Ubuntu 22.04 LTS, 4+ vCPU, 8GB+ RAM (16GB recommended for 1000+ concurrent), 100GB+ SSD. PHP 8.3-FPM, Nginx 1.24, MySQL 8.0, Redis 7, Node.js 20 LTS, Composer 2, npm/pnpm.\n\n2. DOCKER COMPOSE (Development/Small Production): Use provided docker-compose.yml with services: app (PHP-FPM), nginx, mysql, redis, soketi (WebSocket), horizon (queue worker), scheduler (cron). Run: docker compose up -d.\n\n3. ENVIRONMENT CONFIGURATION: Copy .env.example to .env. Set APP_KEY (php artisan key:generate), DB_*, REDIS_*, MAIL_*, BROADCAST_DRIVER=pusher (pointing to Soketi), QUEUE_CONNECTION=redis, SESSION_DRIVER=redis, CACHE_DRIVER=redis.\n\n4. DATABASE SETUP: php artisan migrate --force && php artisan db:seed --class=ProductionSeeder. Enable MySQL binary logging for point-in-time recovery. Configure automated daily mysqldump backups via spatie/laravel-backup to S3-compatible storage.\n\n5. NGINX CONFIGURATION: Configure server block with PHP-FPM socket, try_files for Blade routing, gzip compression, browser caching headers for static assets, rate limiting zones, SSL termination with Let's Encrypt (certbot).\n\n6. QUEUE WORKERS: Run Laravel Horizon for queue management. Configure supervisor to keep horizon running. Separate queues: default, emails, reports, proctoring-media (high-priority).\n\n7. WEBSOCKETS: Deploy Soketi as a separate service. Configure Nginx reverse proxy for WebSocket upgrade. Set PUSHER_* env vars to point to Soketi instance.\n\n8. FILE STORAGE: Use local disk for development. Production: configure S3-compatible storage (AWS S3, MinIO self-hosted) for exam media, proctoring screenshots, and result PDFs. Set FILESYSTEM_DISK=s3.\n\n9. FRONTEND BUILD: Run npm run build to compile Tailwind CSS v4.2 via Vite. Tailwind v4 uses CSS-first configuration (@import 'tailwindcss') — no tailwind.config.js required. Output goes to public/build/. Run php artisan optimize in production.\n\n10. PERFORMANCE TUNING: Enable PHP OPcache (opcache.memory_consumption=256, opcache.max_accelerated_files=20000). Configure MySQL innodb_buffer_pool_size=4G (50% of RAM). Redis maxmemory-policy=allkeys-lru. Run php artisan config:cache, route:cache, view:cache in production.\n\n11. SCALING: For 5000+ concurrent users, deploy behind a load balancer (Nginx/HAProxy/AWS ALB) with multiple PHP-FPM app servers sharing MySQL (with read replicas) and Redis (Redis Sentinel or Cluster). Use sticky sessions or Redis session driver for session consistency.\n\n12. MONITORING: Integrate Laravel Telescope (development) and Laravel Pulse (production) for application monitoring. Set up Prometheus + Grafana for infrastructure metrics. Configure Sentry for error tracking. Set up uptime monitoring (UptimeRobot or self-hosted Uptime Kuma).\n\n13. CI/CD PIPELINE (GitHub Actions): On push to main: run PHPUnit/Pest tests, PHPStan analysis, Playwright E2E tests, composer audit, npm audit. On tag: build Docker image, push to registry, deploy to production via SSH with zero-downtime deployment (php artisan down → git pull → composer install → npm ci && npm run build → migrate → optimize → up).\n\n14. BACKUP STRATEGY: Daily full database backup + hourly incremental. Weekly backup verification (restore test to staging). Backups encrypted with GPG and stored in geographically separate S3 bucket. Retention: 30 days daily, 12 months monthly.\n\n15. WCAG 2.1 AA COMPLIANCE: Blade templates use semantic HTML5 elements with full keyboard navigation and ARIA attributes. Tailwind CSS v4.2 utility classes ensure consistent color contrast ratios meeting 4.5:1 (normal text) and 3:1 (large text). Provide skip navigation links. Test with axe-core automated accessibility scanner in CI pipeline."
}
